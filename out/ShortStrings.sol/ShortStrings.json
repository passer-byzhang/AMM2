{"abi":[{"type":"error","name":"InvalidShortString","inputs":[]},{"type":"error","name":"StringTooLong","inputs":[{"name":"str","type":"string","internalType":"string"}]}],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220731345b4e4faa1229cfff775353e65a6f9988fbc676ad46b89dd7c38adc869cd64736f6c634300081a0033","sourceMap":"1255:3026:48:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;1255:3026:48;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea2646970667358221220731345b4e4faa1229cfff775353e65a6f9988fbc676ad46b89dd7c38adc869cd64736f6c634300081a0033","sourceMap":"1255:3026:48:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"InvalidShortString\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"str\",\"type\":\"string\"}],\"name\":\"StringTooLong\",\"type\":\"error\"}],\"devdoc\":{\"details\":\"This library provides functions to convert short memory strings into a `ShortString` type that can be used as an immutable variable. Strings of arbitrary length can be optimized using this library if they are short enough (up to 31 bytes) by packing them with their length (1 byte) in a single EVM word (32 bytes). Additionally, a fallback mechanism can be used for every other case. Usage example: ```solidity contract Named {     using ShortStrings for *;     ShortString private immutable _name;     string private _nameFallback;     constructor(string memory contractName) {         _name = contractName.toShortStringWithFallback(_nameFallback);     }     function name() external view returns (string memory) {         return _name.toStringWithFallback(_nameFallback);     } } ```\",\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol\":\"ShortStrings\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=node_modules/@openzeppelin/\",\":eth-gas-reporter/=node_modules/eth-gas-reporter/\",\":forge-std/=lib/forge-std/src/\",\":hardhat/=node_modules/hardhat/\"]},\"sources\":{\"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol\":{\"keccak256\":\"0x7d94fa0af099a2172eb01f9c8a8a443cbe7e0e43654841563e4e09968efdb549\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://65e38fb76b6add407d4557753ae83dd1268e8261195dbe5c19a580d5ba6e4e9a\",\"dweb:/ipfs/QmTkGSJtaQrqjcyWM4AgemeEmKgtDydKPPVRajsUJRQSrK\"]},\"node_modules/@openzeppelin/contracts/utils/StorageSlot.sol\":{\"keccak256\":\"0xcf74f855663ce2ae00ed8352666b7935f6cddea2932fdf2c3ecd30a9b1cd0e97\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9f660b1f351b757dfe01438e59888f31f33ded3afcf5cb5b0d9bf9aa6f320a8b\",\"dweb:/ipfs/QmarDJ5hZEgBtCmmrVzEZWjub9769eD686jmzb2XpSU1cM\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"InvalidShortString"},{"inputs":[{"internalType":"string","name":"str","type":"string"}],"type":"error","name":"StringTooLong"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/=node_modules/@openzeppelin/","eth-gas-reporter/=node_modules/eth-gas-reporter/","forge-std/=lib/forge-std/src/","hardhat/=node_modules/hardhat/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol":"ShortStrings"},"evmVersion":"paris","libraries":{}},"sources":{"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol":{"keccak256":"0x7d94fa0af099a2172eb01f9c8a8a443cbe7e0e43654841563e4e09968efdb549","urls":["bzz-raw://65e38fb76b6add407d4557753ae83dd1268e8261195dbe5c19a580d5ba6e4e9a","dweb:/ipfs/QmTkGSJtaQrqjcyWM4AgemeEmKgtDydKPPVRajsUJRQSrK"],"license":"MIT"},"node_modules/@openzeppelin/contracts/utils/StorageSlot.sol":{"keccak256":"0xcf74f855663ce2ae00ed8352666b7935f6cddea2932fdf2c3ecd30a9b1cd0e97","urls":["bzz-raw://9f660b1f351b757dfe01438e59888f31f33ded3afcf5cb5b0d9bf9aa6f320a8b","dweb:/ipfs/QmarDJ5hZEgBtCmmrVzEZWjub9769eD686jmzb2XpSU1cM"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"node_modules/@openzeppelin/contracts/utils/ShortStrings.sol","id":10446,"exportedSymbols":{"ShortString":[10234],"ShortStrings":[10445],"StorageSlot":[10569]},"nodeType":"SourceUnit","src":"106:4176:48","nodes":[{"id":10230,"nodeType":"PragmaDirective","src":"106:24:48","nodes":[],"literals":["solidity","^","0.8",".20"]},{"id":10232,"nodeType":"ImportDirective","src":"132:46:48","nodes":[],"absolutePath":"node_modules/@openzeppelin/contracts/utils/StorageSlot.sol","file":"./StorageSlot.sol","nameLocation":"-1:-1:-1","scope":10446,"sourceUnit":10570,"symbolAliases":[{"foreign":{"id":10231,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10569,"src":"140:11:48","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":10234,"nodeType":"UserDefinedValueTypeDefinition","src":"348:28:48","nodes":[],"canonicalName":"ShortString","name":"ShortString","nameLocation":"353:11:48","underlyingType":{"id":10233,"name":"bytes32","nodeType":"ElementaryTypeName","src":"368:7:48","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}},{"id":10445,"nodeType":"ContractDefinition","src":"1255:3026:48","nodes":[{"id":10238,"nodeType":"VariableDeclaration","src":"1345:111:48","nodes":[],"constant":true,"mutability":"constant","name":"FALLBACK_SENTINEL","nameLocation":"1370:17:48","scope":10445,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":10236,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1345:7:48","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307830303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030304646","id":10237,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1390:66:48","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0x00000000000000000000000000000000000000000000000000000000000000FF"},"visibility":"private"},{"id":10242,"nodeType":"ErrorDefinition","src":"1463:32:48","nodes":[],"errorSelector":"305a27a9","name":"StringTooLong","nameLocation":"1469:13:48","parameters":{"id":10241,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10240,"mutability":"mutable","name":"str","nameLocation":"1490:3:48","nodeType":"VariableDeclaration","scope":10242,"src":"1483:10:48","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":10239,"name":"string","nodeType":"ElementaryTypeName","src":"1483:6:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1482:12:48"}},{"id":10244,"nodeType":"ErrorDefinition","src":"1500:27:48","nodes":[],"errorSelector":"b3512b0c","name":"InvalidShortString","nameLocation":"1506:18:48","parameters":{"id":10243,"nodeType":"ParameterList","parameters":[],"src":"1524:2:48"}},{"id":10288,"nodeType":"FunctionDefinition","src":"1708:286:48","nodes":[],"body":{"id":10287,"nodeType":"Block","src":"1786:208:48","nodes":[],"statements":[{"assignments":[10254],"declarations":[{"constant":false,"id":10254,"mutability":"mutable","name":"bstr","nameLocation":"1809:4:48","nodeType":"VariableDeclaration","scope":10287,"src":"1796:17:48","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":10253,"name":"bytes","nodeType":"ElementaryTypeName","src":"1796:5:48","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":10259,"initialValue":{"arguments":[{"id":10257,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10247,"src":"1822:3:48","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":10256,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1816:5:48","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":10255,"name":"bytes","nodeType":"ElementaryTypeName","src":"1816:5:48","typeDescriptions":{}}},"id":10258,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1816:10:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"nodeType":"VariableDeclarationStatement","src":"1796:30:48"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":10263,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":10260,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10254,"src":"1840:4:48","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":10261,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1845:6:48","memberName":"length","nodeType":"MemberAccess","src":"1840:11:48","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":10262,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1854:2:48","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"1840:16:48","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":10269,"nodeType":"IfStatement","src":"1836:72:48","trueBody":{"id":10268,"nodeType":"Block","src":"1858:50:48","statements":[{"errorCall":{"arguments":[{"id":10265,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10247,"src":"1893:3:48","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":10264,"name":"StringTooLong","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10242,"src":"1879:13:48","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_string_memory_ptr_$returns$_t_error_$","typeString":"function (string memory) pure returns (error)"}},"id":10266,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1879:18:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":10267,"nodeType":"RevertStatement","src":"1872:25:48"}]}},{"expression":{"arguments":[{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":10283,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":10278,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10254,"src":"1965:4:48","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":10277,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1957:7:48","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":10276,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1957:7:48","typeDescriptions":{}}},"id":10279,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1957:13:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":10275,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1949:7:48","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":10274,"name":"uint256","nodeType":"ElementaryTypeName","src":"1949:7:48","typeDescriptions":{}}},"id":10280,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1949:22:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"expression":{"id":10281,"name":"bstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10254,"src":"1974:4:48","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":10282,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1979:6:48","memberName":"length","nodeType":"MemberAccess","src":"1974:11:48","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1949:36:48","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":10273,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1941:7:48","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes32_$","typeString":"type(bytes32)"},"typeName":{"id":10272,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1941:7:48","typeDescriptions":{}}},"id":10284,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1941:45:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":10270,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10234,"src":"1924:11:48","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$10234_$","typeString":"type(ShortString)"}},"id":10271,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1936:4:48","memberName":"wrap","nodeType":"MemberAccess","src":"1924:16:48","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$10234_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":10285,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1924:63:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}},"functionReturnParameters":10252,"id":10286,"nodeType":"Return","src":"1917:70:48"}]},"documentation":{"id":10245,"nodeType":"StructuredDocumentation","src":"1533:170:48","text":" @dev Encode a string of at most 31 chars into a `ShortString`.\n This will trigger a `StringTooLong` error is the input string is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortString","nameLocation":"1717:13:48","parameters":{"id":10248,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10247,"mutability":"mutable","name":"str","nameLocation":"1745:3:48","nodeType":"VariableDeclaration","scope":10288,"src":"1731:17:48","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":10246,"name":"string","nodeType":"ElementaryTypeName","src":"1731:6:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"1730:19:48"},"returnParameters":{"id":10252,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10251,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":10288,"src":"1773:11:48","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"},"typeName":{"id":10250,"nodeType":"UserDefinedTypeName","pathNode":{"id":10249,"name":"ShortString","nameLocations":["1773:11:48"],"nodeType":"IdentifierPath","referencedDeclaration":10234,"src":"1773:11:48"},"referencedDeclaration":10234,"src":"1773:11:48","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}},"visibility":"internal"}],"src":"1772:13:48"},"scope":10445,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":10314,"nodeType":"FunctionDefinition","src":"2078:378:48","nodes":[],"body":{"id":10313,"nodeType":"Block","src":"2152:304:48","nodes":[],"statements":[{"assignments":[10298],"declarations":[{"constant":false,"id":10298,"mutability":"mutable","name":"len","nameLocation":"2170:3:48","nodeType":"VariableDeclaration","scope":10313,"src":"2162:11:48","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":10297,"name":"uint256","nodeType":"ElementaryTypeName","src":"2162:7:48","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":10302,"initialValue":{"arguments":[{"id":10300,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10292,"src":"2187:4:48","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}],"id":10299,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10346,"src":"2176:10:48","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$10234_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":10301,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2176:16:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2162:30:48"},{"assignments":[10304],"declarations":[{"constant":false,"id":10304,"mutability":"mutable","name":"str","nameLocation":"2294:3:48","nodeType":"VariableDeclaration","scope":10313,"src":"2280:17:48","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":10303,"name":"string","nodeType":"ElementaryTypeName","src":"2280:6:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"id":10309,"initialValue":{"arguments":[{"hexValue":"3332","id":10307,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2311:2:48","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"}],"id":10306,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"2300:10:48","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_string_memory_ptr_$","typeString":"function (uint256) pure returns (string memory)"},"typeName":{"id":10305,"name":"string","nodeType":"ElementaryTypeName","src":"2304:6:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}}},"id":10308,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2300:14:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"nodeType":"VariableDeclarationStatement","src":"2280:34:48"},{"AST":{"nativeSrc":"2349:81:48","nodeType":"YulBlock","src":"2349:81:48","statements":[{"expression":{"arguments":[{"name":"str","nativeSrc":"2370:3:48","nodeType":"YulIdentifier","src":"2370:3:48"},{"name":"len","nativeSrc":"2375:3:48","nodeType":"YulIdentifier","src":"2375:3:48"}],"functionName":{"name":"mstore","nativeSrc":"2363:6:48","nodeType":"YulIdentifier","src":"2363:6:48"},"nativeSrc":"2363:16:48","nodeType":"YulFunctionCall","src":"2363:16:48"},"nativeSrc":"2363:16:48","nodeType":"YulExpressionStatement","src":"2363:16:48"},{"expression":{"arguments":[{"arguments":[{"name":"str","nativeSrc":"2403:3:48","nodeType":"YulIdentifier","src":"2403:3:48"},{"kind":"number","nativeSrc":"2408:4:48","nodeType":"YulLiteral","src":"2408:4:48","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"2399:3:48","nodeType":"YulIdentifier","src":"2399:3:48"},"nativeSrc":"2399:14:48","nodeType":"YulFunctionCall","src":"2399:14:48"},{"name":"sstr","nativeSrc":"2415:4:48","nodeType":"YulIdentifier","src":"2415:4:48"}],"functionName":{"name":"mstore","nativeSrc":"2392:6:48","nodeType":"YulIdentifier","src":"2392:6:48"},"nativeSrc":"2392:28:48","nodeType":"YulFunctionCall","src":"2392:28:48"},"nativeSrc":"2392:28:48","nodeType":"YulExpressionStatement","src":"2392:28:48"}]},"evmVersion":"paris","externalReferences":[{"declaration":10298,"isOffset":false,"isSlot":false,"src":"2375:3:48","valueSize":1},{"declaration":10292,"isOffset":false,"isSlot":false,"src":"2415:4:48","valueSize":1},{"declaration":10304,"isOffset":false,"isSlot":false,"src":"2370:3:48","valueSize":1},{"declaration":10304,"isOffset":false,"isSlot":false,"src":"2403:3:48","valueSize":1}],"flags":["memory-safe"],"id":10310,"nodeType":"InlineAssembly","src":"2324:106:48"},{"expression":{"id":10311,"name":"str","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10304,"src":"2446:3:48","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":10296,"id":10312,"nodeType":"Return","src":"2439:10:48"}]},"documentation":{"id":10289,"nodeType":"StructuredDocumentation","src":"2000:73:48","text":" @dev Decode a `ShortString` back to a \"normal\" string."},"implemented":true,"kind":"function","modifiers":[],"name":"toString","nameLocation":"2087:8:48","parameters":{"id":10293,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10292,"mutability":"mutable","name":"sstr","nameLocation":"2108:4:48","nodeType":"VariableDeclaration","scope":10314,"src":"2096:16:48","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"},"typeName":{"id":10291,"nodeType":"UserDefinedTypeName","pathNode":{"id":10290,"name":"ShortString","nameLocations":["2096:11:48"],"nodeType":"IdentifierPath","referencedDeclaration":10234,"src":"2096:11:48"},"referencedDeclaration":10234,"src":"2096:11:48","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}},"visibility":"internal"}],"src":"2095:18:48"},"returnParameters":{"id":10296,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10295,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":10314,"src":"2137:13:48","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":10294,"name":"string","nodeType":"ElementaryTypeName","src":"2137:6:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2136:15:48"},"scope":10445,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":10346,"nodeType":"FunctionDefinition","src":"2528:245:48","nodes":[],"body":{"id":10345,"nodeType":"Block","src":"2598:175:48","nodes":[],"statements":[{"assignments":[10324],"declarations":[{"constant":false,"id":10324,"mutability":"mutable","name":"result","nameLocation":"2616:6:48","nodeType":"VariableDeclaration","scope":10345,"src":"2608:14:48","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":10323,"name":"uint256","nodeType":"ElementaryTypeName","src":"2608:7:48","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":10334,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":10333,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"arguments":[{"id":10329,"name":"sstr","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10318,"src":"2652:4:48","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}],"expression":{"id":10327,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10234,"src":"2633:11:48","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$10234_$","typeString":"type(ShortString)"}},"id":10328,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2645:6:48","memberName":"unwrap","nodeType":"MemberAccess","src":"2633:18:48","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$10234_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":10330,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2633:24:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":10326,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2625:7:48","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":10325,"name":"uint256","nodeType":"ElementaryTypeName","src":"2625:7:48","typeDescriptions":{}}},"id":10331,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2625:33:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"&","rightExpression":{"hexValue":"30784646","id":10332,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2661:4:48","typeDescriptions":{"typeIdentifier":"t_rational_255_by_1","typeString":"int_const 255"},"value":"0xFF"},"src":"2625:40:48","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2608:57:48"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":10337,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":10335,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10324,"src":"2679:6:48","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3331","id":10336,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2688:2:48","typeDescriptions":{"typeIdentifier":"t_rational_31_by_1","typeString":"int_const 31"},"value":"31"},"src":"2679:11:48","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":10342,"nodeType":"IfStatement","src":"2675:69:48","trueBody":{"id":10341,"nodeType":"Block","src":"2692:52:48","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":10338,"name":"InvalidShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10244,"src":"2713:18:48","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":10339,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2713:20:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":10340,"nodeType":"RevertStatement","src":"2706:27:48"}]}},{"expression":{"id":10343,"name":"result","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10324,"src":"2760:6:48","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":10322,"id":10344,"nodeType":"Return","src":"2753:13:48"}]},"documentation":{"id":10315,"nodeType":"StructuredDocumentation","src":"2462:61:48","text":" @dev Return the length of a `ShortString`."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLength","nameLocation":"2537:10:48","parameters":{"id":10319,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10318,"mutability":"mutable","name":"sstr","nameLocation":"2560:4:48","nodeType":"VariableDeclaration","scope":10346,"src":"2548:16:48","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"},"typeName":{"id":10317,"nodeType":"UserDefinedTypeName","pathNode":{"id":10316,"name":"ShortString","nameLocations":["2548:11:48"],"nodeType":"IdentifierPath","referencedDeclaration":10234,"src":"2548:11:48"},"referencedDeclaration":10234,"src":"2548:11:48","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}},"visibility":"internal"}],"src":"2547:18:48"},"returnParameters":{"id":10322,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10321,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":10346,"src":"2589:7:48","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":10320,"name":"uint256","nodeType":"ElementaryTypeName","src":"2589:7:48","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2588:9:48"},"scope":10445,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":10386,"nodeType":"FunctionDefinition","src":"2887:340:48","nodes":[],"body":{"id":10385,"nodeType":"Block","src":"2996:231:48","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":10363,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"arguments":[{"id":10359,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10349,"src":"3016:5:48","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":10358,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3010:5:48","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":10357,"name":"bytes","nodeType":"ElementaryTypeName","src":"3010:5:48","typeDescriptions":{}}},"id":10360,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3010:12:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":10361,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3023:6:48","memberName":"length","nodeType":"MemberAccess","src":"3010:19:48","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"3332","id":10362,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3032:2:48","typeDescriptions":{"typeIdentifier":"t_rational_32_by_1","typeString":"int_const 32"},"value":"32"},"src":"3010:24:48","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":10383,"nodeType":"Block","src":"3094:127:48","statements":[{"expression":{"id":10376,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"arguments":[{"id":10372,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10351,"src":"3134:5:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"expression":{"id":10369,"name":"StorageSlot","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10569,"src":"3108:11:48","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_StorageSlot_$10569_$","typeString":"type(library StorageSlot)"}},"id":10371,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3120:13:48","memberName":"getStringSlot","nodeType":"MemberAccess","referencedDeclaration":10546,"src":"3108:25:48","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_storage_ptr_$returns$_t_struct$_StringSlot_$10466_storage_ptr_$","typeString":"function (string storage pointer) pure returns (struct StorageSlot.StringSlot storage pointer)"}},"id":10373,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3108:32:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_StringSlot_$10466_storage_ptr","typeString":"struct StorageSlot.StringSlot storage pointer"}},"id":10374,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"3141:5:48","memberName":"value","nodeType":"MemberAccess","referencedDeclaration":10465,"src":"3108:38:48","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":10375,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10349,"src":"3149:5:48","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"src":"3108:46:48","typeDescriptions":{"typeIdentifier":"t_string_storage","typeString":"string storage ref"}},"id":10377,"nodeType":"ExpressionStatement","src":"3108:46:48"},{"expression":{"arguments":[{"id":10380,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10238,"src":"3192:17:48","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"expression":{"id":10378,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10234,"src":"3175:11:48","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$10234_$","typeString":"type(ShortString)"}},"id":10379,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3187:4:48","memberName":"wrap","nodeType":"MemberAccess","src":"3175:16:48","typeDescriptions":{"typeIdentifier":"t_function_wrap_pure$_t_bytes32_$returns$_t_userDefinedValueType$_ShortString_$10234_$","typeString":"function (bytes32) pure returns (ShortString)"}},"id":10381,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3175:35:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}},"functionReturnParameters":10356,"id":10382,"nodeType":"Return","src":"3168:42:48"}]},"id":10384,"nodeType":"IfStatement","src":"3006:215:48","trueBody":{"id":10368,"nodeType":"Block","src":"3036:52:48","statements":[{"expression":{"arguments":[{"id":10365,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10349,"src":"3071:5:48","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":10364,"name":"toShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10288,"src":"3057:13:48","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_string_memory_ptr_$returns$_t_userDefinedValueType$_ShortString_$10234_$","typeString":"function (string memory) pure returns (ShortString)"}},"id":10366,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3057:20:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}},"functionReturnParameters":10356,"id":10367,"nodeType":"Return","src":"3050:27:48"}]}}]},"documentation":{"id":10347,"nodeType":"StructuredDocumentation","src":"2779:103:48","text":" @dev Encode a string into a `ShortString`, or write it to storage if it is too long."},"implemented":true,"kind":"function","modifiers":[],"name":"toShortStringWithFallback","nameLocation":"2896:25:48","parameters":{"id":10352,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10349,"mutability":"mutable","name":"value","nameLocation":"2936:5:48","nodeType":"VariableDeclaration","scope":10386,"src":"2922:19:48","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":10348,"name":"string","nodeType":"ElementaryTypeName","src":"2922:6:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"},{"constant":false,"id":10351,"mutability":"mutable","name":"store","nameLocation":"2958:5:48","nodeType":"VariableDeclaration","scope":10386,"src":"2943:20:48","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":10350,"name":"string","nodeType":"ElementaryTypeName","src":"2943:6:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"2921:43:48"},"returnParameters":{"id":10356,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10355,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":10386,"src":"2983:11:48","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"},"typeName":{"id":10354,"nodeType":"UserDefinedTypeName","pathNode":{"id":10353,"name":"ShortString","nameLocations":["2983:11:48"],"nodeType":"IdentifierPath","referencedDeclaration":10234,"src":"2983:11:48"},"referencedDeclaration":10234,"src":"2983:11:48","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}},"visibility":"internal"}],"src":"2982:13:48"},"scope":10445,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":10413,"nodeType":"FunctionDefinition","src":"3358:267:48","nodes":[],"body":{"id":10412,"nodeType":"Block","src":"3467:158:48","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":10402,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":10399,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10390,"src":"3500:5:48","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}],"expression":{"id":10397,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10234,"src":"3481:11:48","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$10234_$","typeString":"type(ShortString)"}},"id":10398,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3493:6:48","memberName":"unwrap","nodeType":"MemberAccess","src":"3481:18:48","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$10234_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":10400,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3481:25:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":10401,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10238,"src":"3510:17:48","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"3481:46:48","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":10410,"nodeType":"Block","src":"3582:37:48","statements":[{"expression":{"id":10408,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10392,"src":"3603:5:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}},"functionReturnParameters":10396,"id":10409,"nodeType":"Return","src":"3596:12:48"}]},"id":10411,"nodeType":"IfStatement","src":"3477:142:48","trueBody":{"id":10407,"nodeType":"Block","src":"3529:47:48","statements":[{"expression":{"arguments":[{"id":10404,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10390,"src":"3559:5:48","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}],"id":10403,"name":"toString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10314,"src":"3550:8:48","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$10234_$returns$_t_string_memory_ptr_$","typeString":"function (ShortString) pure returns (string memory)"}},"id":10405,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3550:15:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}},"functionReturnParameters":10396,"id":10406,"nodeType":"Return","src":"3543:22:48"}]}}]},"documentation":{"id":10387,"nodeType":"StructuredDocumentation","src":"3233:120:48","text":" @dev Decode a string that was encoded to `ShortString` or written to storage using {setWithFallback}."},"implemented":true,"kind":"function","modifiers":[],"name":"toStringWithFallback","nameLocation":"3367:20:48","parameters":{"id":10393,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10390,"mutability":"mutable","name":"value","nameLocation":"3400:5:48","nodeType":"VariableDeclaration","scope":10413,"src":"3388:17:48","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"},"typeName":{"id":10389,"nodeType":"UserDefinedTypeName","pathNode":{"id":10388,"name":"ShortString","nameLocations":["3388:11:48"],"nodeType":"IdentifierPath","referencedDeclaration":10234,"src":"3388:11:48"},"referencedDeclaration":10234,"src":"3388:11:48","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":10392,"mutability":"mutable","name":"store","nameLocation":"3422:5:48","nodeType":"VariableDeclaration","scope":10413,"src":"3407:20:48","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":10391,"name":"string","nodeType":"ElementaryTypeName","src":"3407:6:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3387:41:48"},"returnParameters":{"id":10396,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10395,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":10413,"src":"3452:13:48","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":10394,"name":"string","nodeType":"ElementaryTypeName","src":"3452:6:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"3451:15:48"},"scope":10445,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":10444,"nodeType":"FunctionDefinition","src":"4000:279:48","nodes":[],"body":{"id":10443,"nodeType":"Block","src":"4105:174:48","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"id":10429,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":10426,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10417,"src":"4138:5:48","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}],"expression":{"id":10424,"name":"ShortString","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10234,"src":"4119:11:48","typeDescriptions":{"typeIdentifier":"t_type$_t_userDefinedValueType$_ShortString_$10234_$","typeString":"type(ShortString)"}},"id":10425,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4131:6:48","memberName":"unwrap","nodeType":"MemberAccess","src":"4119:18:48","typeDescriptions":{"typeIdentifier":"t_function_unwrap_pure$_t_userDefinedValueType$_ShortString_$10234_$returns$_t_bytes32_$","typeString":"function (ShortString) pure returns (bytes32)"}},"id":10427,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4119:25:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":10428,"name":"FALLBACK_SENTINEL","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10238,"src":"4148:17:48","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"src":"4119:46:48","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":10441,"nodeType":"Block","src":"4222:51:48","statements":[{"expression":{"expression":{"arguments":[{"id":10437,"name":"store","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10419,"src":"4249:5:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_storage_ptr","typeString":"string storage pointer"}],"id":10436,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4243:5:48","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":10435,"name":"bytes","nodeType":"ElementaryTypeName","src":"4243:5:48","typeDescriptions":{}}},"id":10438,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4243:12:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes storage pointer"}},"id":10439,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4256:6:48","memberName":"length","nodeType":"MemberAccess","src":"4243:19:48","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":10423,"id":10440,"nodeType":"Return","src":"4236:26:48"}]},"id":10442,"nodeType":"IfStatement","src":"4115:158:48","trueBody":{"id":10434,"nodeType":"Block","src":"4167:49:48","statements":[{"expression":{"arguments":[{"id":10431,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10417,"src":"4199:5:48","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}],"id":10430,"name":"byteLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":10346,"src":"4188:10:48","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_userDefinedValueType$_ShortString_$10234_$returns$_t_uint256_$","typeString":"function (ShortString) pure returns (uint256)"}},"id":10432,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4188:17:48","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":10423,"id":10433,"nodeType":"Return","src":"4181:24:48"}]}}]},"documentation":{"id":10414,"nodeType":"StructuredDocumentation","src":"3631:364:48","text":" @dev Return the length of a string that was encoded to `ShortString` or written to storage using\n {setWithFallback}.\n WARNING: This will return the \"byte length\" of the string. This may not reflect the actual length in terms of\n actual characters as the UTF-8 encoding of a single character can span over multiple bytes."},"implemented":true,"kind":"function","modifiers":[],"name":"byteLengthWithFallback","nameLocation":"4009:22:48","parameters":{"id":10420,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10417,"mutability":"mutable","name":"value","nameLocation":"4044:5:48","nodeType":"VariableDeclaration","scope":10444,"src":"4032:17:48","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"},"typeName":{"id":10416,"nodeType":"UserDefinedTypeName","pathNode":{"id":10415,"name":"ShortString","nameLocations":["4032:11:48"],"nodeType":"IdentifierPath","referencedDeclaration":10234,"src":"4032:11:48"},"referencedDeclaration":10234,"src":"4032:11:48","typeDescriptions":{"typeIdentifier":"t_userDefinedValueType$_ShortString_$10234","typeString":"ShortString"}},"visibility":"internal"},{"constant":false,"id":10419,"mutability":"mutable","name":"store","nameLocation":"4066:5:48","nodeType":"VariableDeclaration","scope":10444,"src":"4051:20:48","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"},"typeName":{"id":10418,"name":"string","nodeType":"ElementaryTypeName","src":"4051:6:48","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"4031:41:48"},"returnParameters":{"id":10423,"nodeType":"ParameterList","parameters":[{"constant":false,"id":10422,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":10444,"src":"4096:7:48","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":10421,"name":"uint256","nodeType":"ElementaryTypeName","src":"4096:7:48","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4095:9:48"},"scope":10445,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"ShortStrings","contractDependencies":[],"contractKind":"library","documentation":{"id":10235,"nodeType":"StructuredDocumentation","src":"378:876:48","text":" @dev This library provides functions to convert short memory strings\n into a `ShortString` type that can be used as an immutable variable.\n Strings of arbitrary length can be optimized using this library if\n they are short enough (up to 31 bytes) by packing them with their\n length (1 byte) in a single EVM word (32 bytes). Additionally, a\n fallback mechanism can be used for every other case.\n Usage example:\n ```solidity\n contract Named {\n     using ShortStrings for *;\n     ShortString private immutable _name;\n     string private _nameFallback;\n     constructor(string memory contractName) {\n         _name = contractName.toShortStringWithFallback(_nameFallback);\n     }\n     function name() external view returns (string memory) {\n         return _name.toStringWithFallback(_nameFallback);\n     }\n }\n ```"},"fullyImplemented":true,"linearizedBaseContracts":[10445],"name":"ShortStrings","nameLocation":"1263:12:48","scope":10446,"usedErrors":[10242,10244],"usedEvents":[]}],"license":"MIT"},"id":48}